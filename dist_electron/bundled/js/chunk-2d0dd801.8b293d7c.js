(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd801"],{"823d":function(e,n,t){"use strict";t.r(n);var l=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"dependence"},[t("h1",[e._v("dependence")]),t("el-row",[t("el-col",{attrs:{span:24}},[e._v("\n      node \n      "),2==e.dependence.installed.nodejs?[t("span",[e._v("installed")])]:1==e.dependence.installed.nodejs?[t("span",[e._v("installing")])]:[t("el-button",{on:{click:function(n){return e.nodetest()}}},[e._v("test")]),t("el-button",{on:{click:e.nodeinstall}},[e._v("download")])]],2),e.dependence.installed.nodejs?[t("el-col",{attrs:{span:24}},[e._v("\n        pm2\n        "),2==e.dependence.installed.pm2?[t("span",[e._v("installed")])]:1==e.dependence.installed.pm2?[t("span",[e._v("installing")])]:[t("el-button",{on:{click:function(n){return e.pm2test()}}},[e._v("test")]),t("el-button",{on:{click:e.pm2install}},[e._v("install")])]],2),t("el-col",{attrs:{span:24}},[e._v("\n        nclient-build \n        "),2==e.dependence.installed.nclientBuild?[t("span",[e._v("installed")])]:1==e.dependence.installed.nclientBuild?[t("span",[e._v("installing")])]:[t("el-button",{on:{click:function(n){return e.nbuildtest()}}},[e._v("test")]),t("el-button",{on:{click:e.nbuildinstall}},[e._v("install")])]],2),t("el-col",{attrs:{span:24}},[e._v("\n        code-generate-mike\n        "),2==e.dependence.installed.codeGen?[t("span",[e._v("installed")])]:1==e.dependence.installed.codeGen?[t("span",[e._v("installing")])]:[t("el-button",{on:{click:function(n){return e.codeGentest()}}},[e._v("test")]),t("el-button",{on:{click:e.codeGeninstall}},[e._v("install")])]],2)]:e._e()],2),e._v("\n  假如一直无法安装,请尝试手动安装\n")],1)},d=[],s=t("34b0"),i=t("34bb");class c extends s["DataHandle"]{constructor(){super("dependenceComp"),this.installed={nodejs:0,pm2:0,nclientBuild:0,codeGen:0}}init(){console.log("Dependence init"),i["ipcRenderer"].on("dep-check-res",this.checkRes),i["ipcRenderer"].on("dep-install-res",this.installRes)}test(e){i["ipcRenderer"].send("dep-check",{name:e})}install(e){i["ipcRenderer"].send("dep-install",{name:e})}checkRes(e,n){this.installed[n.name]=n.success?2:0}installRes(e,n){this.test(n.name)}}let a=new c,o=new s["Handle"]({name:"dependenceComp",created(){a.init(),console.log("dependence created")},mounted(){console.log("dependence mounted")}});var p=o,u={name:"Dependence",data(){return{dependence:a}},computed:{nextVisible(){return 2==this.dependence.installed.nodejs&&2==this.dependence.installed.pm2&&2==this.dependence.installed.nclientBuild&&2==this.dependence.installed.codeGen}},created(){p.created()},mounted(){p.mounted(),this.nodetest(),this.pm2test(),this.nbuildtest(),this.codeGentest()},watch:{nextVisible(e){e&&this.next()}},methods:{next(){this.$router.push({name:"Menu"})},nodetest(){this.dependence.test("nodejs")},nodeinstall(){window.open("https://nodejs.org/zh-cn/")},pm2test(){this.dependence.test("pm2")},pm2install(){this.dependence.installed.pm2=1,this.dependence.install("pm2")},nbuildtest(){this.dependence.test("nclientBuild")},nbuildinstall(){this.dependence.installed.nclientBuild=1,this.dependence.install("nclientBuild")},codeGentest(){this.dependence.test("codeGen")},codeGeninstall(){this.dependence.installed.codeGen=1,this.dependence.install("codeGen")}}},r=u,h=t("2877"),m=Object(h["a"])(r,l,d,!1,null,null,null);n["default"]=m.exports}}]);